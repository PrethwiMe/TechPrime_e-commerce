<!-- views/partials/sidebar.ejs -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

<style>
  .tp-sidebar {
    width: 260px;
    min-height: 100vh;
    background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
    color: #e2e8f0;
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    z-index: 1020;
    box-shadow: 8px 0 30px rgba(0,0,0,0.5);
    font-family: 'Segoe UI', system-ui, sans-serif;
    overflow-y: auto;
    transition: transform 0.35s ease;
  }

  .sidebar-header { padding: 2rem 1.5rem; text-align: center; border-bottom: 1px solid #334155; background: rgba(0,0,0,0.2); }
  .sidebar-header a { color: #fff; font-size: 1.6rem; font-weight: 800; text-decoration: none; letter-spacing: 1px; }

  .sidebar-menu { padding: 1rem 0; margin: 0; list-style: none; }
  .sidebar-menu a {
    display: flex; align-items: center; padding: 0.95rem 1.8rem; color: #cbd5e1; text-decoration: none;
    font-weight: 500; transition: all 0.3s ease; border-left: 4px solid transparent;
  }
  .sidebar-menu a:hover { background: rgba(255,255,255,0.1); color: #fff; padding-left: 2.2rem; border-left-color: #60a5fa; }
  .sidebar-menu a.active { background: rgba(59,130,246,0.2); color: #fff; border-left: 4px solid #3b82f6; font-weight: 600; }
  .sidebar-menu i { width: 36px; font-size: 1.3rem; text-align: center; }

  /* Mobile */
  @media (max-width: 992px) {
    .tp-sidebar { transform: translateX(-100%); }
    .tp-sidebar.show { transform: translateX(0); }
  }

  .sidebar-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.75);
    z-index: 1010;
    backdrop-filter: blur(4px);
  }
  .sidebar-overlay.show { display: block; }
</style>

<div class="tp-sidebar" id="tpSidebar">
  <div class="sidebar-header">
    <a href="/admin/dashboard">TechPrime Admin</a>
  </div>
  <ul class="sidebar-menu">
    <li><a href="/admin/dashboard"><i class="bi bi-speedometer2"></i> Dashboard</a></li>
    <li><a href="/admin/users"><i class="bi bi-people"></i> Users</a></li>
    <li><a href="/admin/products"><i class="bi bi-box-seam"></i> Products</a></li>
    <li><a href="/admin/view-categories"><i class="bi bi-tags"></i> Categories</a></li>
    <li><a href="/admin/orders"><i class="bi bi-receipt"></i> Orders</a></li>
    <li><a href="/admin/returnPage"><i class="bi bi-arrow-return-left"></i> Return</a></li>
    <li><a href="/admin/returnHistory"><i class="bi bi-box-arrow-in-left"></i> Return History</a></li>
    <li><a href="/admin/coupons"><i class="bi bi-ticket-detailed"></i> Coupons</a></li>
    <li><a href="/admin/offers"><i class="bi bi-percent"></i> Offers</a></li>
    <li><a href="/admin/salesReport"><i class="bi bi-graph-up-arrow"></i> Sales Report</a></li>
  </ul>
</div>

<!-- Overlay (click to close) -->
<div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

<script>
  // Auto highlight current page
  document.addEventListener("DOMContentLoaded", () => {
    const path = location.pathname;
    document.querySelectorAll('.sidebar-menu a').forEach(a => {
      if (a.getAttribute('href') === path) a.classList.add('active');
    });
  });

  // Toggle functions
  window.openSidebar = () => {
    document.getElementById('tpSidebar').classList.add('show');
    document.getElementById('sidebarOverlay').classList.add('show');
  };

  window.closeSidebar = () => {
    document.getElementById('tpSidebar').classList.remove('show');
    document.getElementById('sidebarOverlay').classList.remove('show');
  };

  // Optional: close when clicking a link on mobile
  document.querySelectorAll('.sidebar-menu a').forEach(link => {
    link.addEventListener('click', () => {
      if (window.innerWidth < 992) closeSidebar();
    });
  });
</script>